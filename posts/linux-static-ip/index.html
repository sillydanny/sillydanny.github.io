<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Setting a static IP address in Linux | King's Blog</title><meta name=keywords content="static,IP,vlan,bridge,interface"><meta name=description content="Introduction: Usually, IP addresses are dynamically assigned by the router&rsquo;s DHCP server on most network devices. But using a static IP address on the server makes the provided services more stable. If the DHCP server is not working, it will affect the computers in the local area network to obtain IP addresses, thereby affecting access to services, while servers with static IP addresses are not affected, so static IP is also necessary (on devices providing services)."><meta name=author content="King Tam"><link rel=canonical href=https://www.kingtam.tk/posts/linux-static-ip/><link crossorigin=anonymous href=/assets/css/stylesheet.3613efbd0b1772781e8f49935e973cae632a7f61471c05b17be155505ccf87b5.css integrity="sha256-NhPvvQsXcngej0mTXpc8rmMqf2FHHAWxe+FVUFzPh7U=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://www.kingtam.tk/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://www.kingtam.tk/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://www.kingtam.tk/favicon-32x32.png><link rel=apple-touch-icon href=https://www.kingtam.tk/apple-touch-icon.png><link rel=mask-icon href=https://www.kingtam.tk/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-123-45","auto"),ga("send","pageview"))</script><meta property="og:title" content="Setting a static IP address in Linux"><meta property="og:description" content="Introduction: Usually, IP addresses are dynamically assigned by the router&rsquo;s DHCP server on most network devices. But using a static IP address on the server makes the provided services more stable. If the DHCP server is not working, it will affect the computers in the local area network to obtain IP addresses, thereby affecting access to services, while servers with static IP addresses are not affected, so static IP is also necessary (on devices providing services)."><meta property="og:type" content="article"><meta property="og:url" content="https://www.kingtam.tk/posts/linux-static-ip/"><meta property="og:image" content="https://www.kingtam.tk/img/linux-static-ip/linux-static-ip.jpg"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-06-02T12:16:06+08:00"><meta property="article:modified_time" content="2023-06-02T12:16:06+08:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://www.kingtam.tk/img/linux-static-ip/linux-static-ip.jpg"><meta name=twitter:title content="Setting a static IP address in Linux"><meta name=twitter:description content="Introduction: Usually, IP addresses are dynamically assigned by the router&rsquo;s DHCP server on most network devices. But using a static IP address on the server makes the provided services more stable. If the DHCP server is not working, it will affect the computers in the local area network to obtain IP addresses, thereby affecting access to services, while servers with static IP addresses are not affected, so static IP is also necessary (on devices providing services)."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://www.kingtam.tk/posts/"},{"@type":"ListItem","position":2,"name":"Setting a static IP address in Linux","item":"https://www.kingtam.tk/posts/linux-static-ip/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Setting a static IP address in Linux","name":"Setting a static IP address in Linux","description":"Introduction: Usually, IP addresses are dynamically assigned by the router\u0026rsquo;s DHCP server on most network devices. But using a static IP address on the server makes the provided services more stable. If the DHCP server is not working, it will affect the computers in the local area network to obtain IP addresses, thereby affecting access to services, while servers with static IP addresses are not affected, so static IP is also necessary (on devices providing services).","keywords":["static","IP","vlan","bridge","interface"],"articleBody":"Introduction: Usually, IP addresses are dynamically assigned by the router’s DHCP server on most network devices. But using a static IP address on the server makes the provided services more stable. If the DHCP server is not working, it will affect the computers in the local area network to obtain IP addresses, thereby affecting access to services, while servers with static IP addresses are not affected, so static IP is also necessary (on devices providing services).\nTable of Contents: Configuring a static IP address in RHEL/CentOS/Fedora: Setting a static IP address in Debian / Ubuntu (versions prior to 17.10): Setting a static IP address in Ubuntu (newer versions): Setting up VLAN in Ubuntu: Setting up Bridge in Debian: Bridge without VLAN Bridge with VLAN Configuring a static IP address in RHEL/CentOS/Fedora: To set a static IP address in RHEL / CentOS / Fedora\nFirst check the local network interface name:\nThe above figure shows that the network interface name of the local machine is eth0, representing the edited network file ifcfg-eth0\nUse nano or vim to edit:\n1 vim /etc/sysconfig/network-scripts/ifcfg-eth0 Make changes to the ifcfg-eth0 file based on your own network:\n1 2 3 4 5 6 7 8 9 10 11 12 13 DEVICE=\"eth0\" BOOTPROTO=\"static\" DNS1=\"8.8.8.8\" DNS2=\"1.1.1.1\" GATEWAY=\"192.168.0.1\" HOSTNAME=\"linux.kingtam.win\" HWADDR=\"00:19:99:A4:46:AB\" IPADDR=\"192.68.0.100\" NETMASK=\"255.255.255.0\" NM_CONTROLLED=\"yes\" ONBOOT=\"yes\" TYPE=\"Ethernet\" UUID=\"8105c095-799b-4f5a-a445-c6d7c3681f07\" You need to edit the following settings:\nBOOTPROTO is dhcp (default) or static (static) DNS1 and DNS2 can use public DNS services such as 8.8.8.8, 1.1.1.1 Gateway (GATEWAY) is the IP of the router or firewall Host name (HOSTNAME) customizable Network mask (NETMASK) is usually 255.255.255.0 (/24) modify according to your own network parameters IP address (IPADDR) the local IP address ONBOOT whether to start automatically is yes or no Then edit: resolve.conf\nresolve.conf is used to set the definitions of each item when the DNS client requests name resolution.\n1 vim /etc/resolv.conf 1 2 nameserver 8.8.8.8 # Modify with your preferred DNS address nameserver 1.1.1.1 # Modify with your preferred DNS address Use one of the following commands to restart the network and apply all settings:\n1 /etc/init.d/network restart 1 systemctl restart network Setting a static IP address in Debian / Ubuntu (versions prior to 17.10): To set a static IP address in Debian/Ubuntu (versions prior to 17.10), open the following file:\n1 vim /etc/network/interfaces The default is dhcp:\n1 2 no-auto-down eth0 # or possibly auto eth0 iface eth0 inet dhcp Edit using nano or vim, and make changes based on your own network:\n1 2 3 4 5 6 7 no-auto-down eth0 iface eth0 inet static address 192.168.0.100 netmask 255.255.255.0 gateway 192.168.0.1 dns-nameservers 1.1.1.1 dns-nameservers 8.8.8.8 The following settings need to be edited:\nChange iface eth0 inet dhcp (default) to iface eth0 inet static (static) dns-nameservers can have multiple values, such as using public DNS services like 8.8.8.8, 1.1.1.1 gateway is the IP address of the router or firewall netmask is usually 255.255.255.0 (/24), adjust according to your own network parameters address is the IP address of the local machine After saving the interfaces settings, edit /etc/resolv.conf:\n1 2 3 vim /etc/resolv.conf nameserver 8.8.8.8 # Modify with your preferred DNS address nameserver 1.1.1.1 # Modify with your preferred DNS address Use one of the following commands to restart the network and apply all settings:\n1 /etc/init.d/network restart 1 systemctl restart network Setting a static IP address in Ubuntu (newer versions): Starting from Ubuntu 17.10, Netplan is the default network management tool.\nNetwork configuration files are stored in *.yaml files in the directory /etc/netplan/.\nIn my case, it is /etc/netplan/00-installer-config.yaml, and the default content is:\n1 2 3 4 5 network: ethernets: eth0: dhcp4: true version: 2 Edit the 00-installer-config.yaml configuration file using nano or vim:\n1 2 3 4 5 6 7 8 9 10 11 12 network: version: 2 renderer: networkd ethernets: eth0: dhcp4: no addresses: [192.168.1.2/24] routes: - to: default via: 192.168.1.1 nameservers: addresses: [8.8.8.8,1.1.1.1] You need to edit the following settings:\nrenderer: networkd specifies that this interface is managed by the systemd-networkd service dhcp4: no changes to manual static IP address setup addresses the local IP address and network segment nameservers DNS server addresses [8.8.8.8,1.1.1.1] can be multiple IP addresses Save the 00-installer-config.yaml settings.\nApply the network settings using the following command:\n1 netplan apply Setting up VLAN in Ubuntu: In this example, N1 is flashed with Armbian, and the network port is connected to the trunk port of the switch.\nDynamically obtain an IP address The network configuration files are stored in *.yaml files in the /etc/netplan/ directory.\nThe default content of /etc/netplan/armbian-default.yaml is:\n1 2 3 network: version: 2 renderer: NetworkManager Edit the /etc/netplan/armbian-default.yaml configuration file using nano or vim:\n1 2 3 4 5 6 7 8 9 10 11 network: version: 2 renderer: NetworkManager ethernets: eth0: dhcp4: true vlans: vlan.3: id: 3 link: eth0 dhcp4: true The configuration file is written in YAML format, and various settings are included:\nThe “version: 2” in the first line specifies the YAML version used in this file.\nThe “renderer” field specifies the network management tool to be used, which in this case is “NetworkManager”, a popular tool for managing networks on Linux systems.\nIn the “ethernets” section, the “eth0” physical interface is configured, and the interface is set to obtain an IPv4 address via DHCP.\nIn the “vlans” section, the VLAN (Virtual Local Area Network) interface on the “eth0” network interface is configured. The VLAN ID is 3 and is connected to the physical interface “eth0” via the “link” field. The VLAN interface is also configured to obtain an IPv4 address via DHCP.\nThis configuration file sets up a network connection where both the physical interface “eth0” and the VLAN interface obtain dynamic IP addresses via DHCP.\nSet static IP address 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 version: 2 renderer: NetworkManager ethernets: eth0: dhcp4: false vlans: vlan.3: id: 3 link: eth0 dhcp4: no addresses: [10.3.3.3/24] routes: - to: default via: 10.3.3.1 nameservers: addresses: [8.8.8.8,1.1.1.1] The VLAN configuration sets up a new interface vlan.3 with ID 3 associated with eth0. Its dhcp4 is set to no, with the static IP address 10.3.3.3 and subnet mask 24. The default route is specified through IP address 10.3.3.1, and 8.8.8.8 and 1.1.1.1 are set as DNS servers.\nSetting up Bridge in Debian: Without VLAN\nTo find out the default network interface name of the machine, use the following command:\n1 ip -c route | head -n 1 | cut -d ' ' -f 5 eth0\nEdit the network interface via text editor\n1 sudo vim /etc/network/interfaces i. As DHCP:\n1 2 3 4 5 6 7 8 9 10 11 12 13 source /etc/network/interfaces.d/* # The loopback network interface auto lo iface lo inet loopback # Wired adapter #1 allow-hotplug eth0 no-auto-down eth0 # Bridge as DHCP auto br0 iface br0 inet dhcp bridge_ports eth0 Then restart the networking service:\n1 sudo systemctl restart networking.service i. As Static:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 source /etc/network/interfaces.d/* # The loopback network interface auto lo iface lo inet loopback # Wired adapter #1 allow-hotplug eth0 no-auto-down eth0 # Bridge setup to static IP auto br0 iface br0 inet static address 10.1.1.10 broadcast 10.1.1.255 netmask 255.255.255.0 gateway 10.1.1.1 bridge_ports eth0 bridge_stp off # disable Spanning Tree Protocol bridge_waitport 0 # no delay before a port becomes available bridge_fd 0 # no forwarding delay Then restart the networking service:\n1 sudo systemctl restart networking.service With VLAN (Advanced Example)\nMake sure the vlan package is installed on the system:\n1 sudo apt install vlan -y If the host is a hypervisor consider adding below sysctl configurations:\n1 2 3 echo \"net.ipv4.ip_forward=1\" | sudo tee -a /etc/sysctl.conf echo \"net.ipv4.conf.all.arp_filter=0\" | sudo tee -a /etc/sysctl.conf echo \"net.ipv4.conf.all.rp_filter=2\" | sudo tee -a /etc/sysctl.conf Load configurations:\n1 $ sudo sysctl -p net.ipv4.ip_forward = 1 net.ipv4.conf.all.arp_filter = 0 net.ipv4.conf.all.rp_filter = 2\nThen modify interfaces configurations:\n1 sudo vim /etc/network/interfaces The interface content is as follow:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 source /etc/network/interfaces.d/* # The loopback network interface auto lo iface lo inet loopback # Wired adapter #1 allow-hotplug eth0 iface eth0 inet manual pre-up ifconfig $IFACE up pre-down ifconfig $IFACE down # VLAN 3 auto eth0.3 iface eth0.3 inet manual # Bridge br0 auto br0 iface br0 inet static bridge_ports eth0.3 bridge_stp off bridge_waitport 0 bridge_fd 0 address 10.3.3.3 netmask 255.255.255.0 gateway 10.3.3.1 dns-nameservers 1.1.1.1 8.8.4.4 Then restart the networking service:\n1 sudo systemctl restart networking.service Conclusion: Each Linux distribution may have different methods for setting a static IP address, but the process is generally similar.\nReference: How to Set Static IP Address and Configure Network in Linux (tecmint.com)\n如何在Ubuntu Server 18.04 LTS中配置靜態IP地址 - soso101 - 博客園 (cnblogs.com)\nCreate Linux Bridge on VLAN Interface in Debian 11/10\n","wordCount":"1493","inLanguage":"en","image":"https://www.kingtam.tk/img/linux-static-ip/linux-static-ip.jpg","datePublished":"2023-06-02T12:16:06+08:00","dateModified":"2023-06-02T12:16:06+08:00","author":{"@type":"Person","name":"King Tam"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://www.kingtam.tk/posts/linux-static-ip/"},"publisher":{"@type":"Organization","name":"King's Blog","logo":{"@type":"ImageObject","url":"https://www.kingtam.tk/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://www.kingtam.tk/ accesskey=h title="King's Blog (Alt + H)">King's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://www.kingtam.tk/categories/ title=Categories><span>Categories</span></a></li><li><a href=https://www.kingtam.tk/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://www.kingtam.tk/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://www.kingtam.tk/archives/ title=Archives><span>Archives</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://www.kingtam.tk/>Home</a>&nbsp;»&nbsp;<a href=https://www.kingtam.tk/posts/>Posts</a></div><h1 class=post-title>Setting a static IP address in Linux</h1><div class=post-meta><span title='2023-06-02 12:16:06 +0800 +0800'>June 2, 2023</span>&nbsp;·&nbsp;8 min&nbsp;·&nbsp;1493 words&nbsp;·&nbsp;King Tam</div></header><figure class=entry-cover><img loading=lazy src=https://www.kingtam.tk/img/linux-static-ip/linux-static-ip.jpg alt></figure><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#dynamically-obtain-an-ip-address aria-label="Dynamically obtain an IP address">Dynamically obtain an IP address</a></li><li><a href=#set-static-ip-address aria-label="Set static IP address">Set static IP address</a></li></ul></div></details></div><div class=post-content><table><tr align=left><td bgcolor=#33b679><font size=5 color=white><b>Introduction:</b></font></td></tr></table><blockquote><p>Usually, IP addresses are dynamically assigned by the router&rsquo;s DHCP server on most network devices. But using a static IP address on the server makes the provided services more stable. If the DHCP server is not working, it will affect the computers in the local area network to obtain IP addresses, thereby affecting access to services, while servers with static IP addresses are not affected, so static IP is also necessary (on devices providing services).</p></blockquote><hr><table><tr align=left><td bgcolor=#33b679><font size=5 color=white><b>Table of Contents:</b></font></td></tr></table><ol><li><a href=#1>Configuring a static IP address in RHEL/CentOS/Fedora:</a></li><li><a href=#2>Setting a static IP address in Debian / Ubuntu (versions prior to 17.10):</a></li><li><a href=#3>Setting a static IP address in Ubuntu (newer versions):</a></li><li><a href=#4>Setting up VLAN in Ubuntu:</a></li><li><a href=#5>Setting up Bridge in Debian:</a><ul><li><a href=#5.1>Bridge without VLAN</a></li><li><a href=#5.2>Bridge with VLAN</a></li></ul></li></ol><p><span id=1></span></p><table><tr align=left><td bgcolor=#25add7><font size=3 color=white><b>Configuring a static IP address in RHEL/CentOS/Fedora:</b></font></td></tr></table><p>To set a static IP address in <strong>RHEL</strong> / <strong>CentOS</strong> / <strong>Fedora</strong></p><p>First check the local network interface name:</p><p><img loading=lazy src=/img/linux-static-ip/2022-03-18_121212.png alt=2022-03-18_121212></p><p>The above figure shows that the network interface name of the local machine is <code>eth0</code>, representing the edited network file <code>ifcfg-eth0</code></p><p>Use nano or vim to edit:</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>vim /etc/sysconfig/network-scripts/ifcfg-eth0
</span></span></code></pre></td></tr></table></div></div><p>Make changes to the <code>ifcfg-eth0</code> file based on your own network:</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>DEVICE<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;eth0&#34;</span>
</span></span><span style=display:flex><span>BOOTPROTO<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;static&#34;</span>
</span></span><span style=display:flex><span>DNS1<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;8.8.8.8&#34;</span>
</span></span><span style=display:flex><span>DNS2<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;1.1.1.1&#34;</span>
</span></span><span style=display:flex><span>GATEWAY<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;192.168.0.1&#34;</span>
</span></span><span style=display:flex><span>HOSTNAME<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;linux.kingtam.win&#34;</span>
</span></span><span style=display:flex><span>HWADDR<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;00:19:99:A4:46:AB&#34;</span>
</span></span><span style=display:flex><span>IPADDR<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;192.68.0.100&#34;</span>
</span></span><span style=display:flex><span>NETMASK<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;255.255.255.0&#34;</span>
</span></span><span style=display:flex><span>NM_CONTROLLED<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;yes&#34;</span>
</span></span><span style=display:flex><span>ONBOOT<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;yes&#34;</span>
</span></span><span style=display:flex><span>TYPE<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Ethernet&#34;</span>
</span></span><span style=display:flex><span>UUID<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;8105c095-799b-4f5a-a445-c6d7c3681f07&#34;</span>
</span></span></code></pre></td></tr></table></div></div><p>You need to edit the following settings:</p><ul><li>BOOTPROTO is <code>dhcp</code> (default) or <code>static</code> (static)</li><li>DNS1 and DNS2 can use public DNS services such as 8.8.8.8, 1.1.1.1</li><li>Gateway (GATEWAY) is the IP of the router or firewall</li><li>Host name (HOSTNAME) customizable</li><li>Network mask (NETMASK) is usually 255.255.255.0 (/24) modify according to your own network parameters</li><li>IP address (IPADDR) the local IP address</li><li>ONBOOT whether to start automatically is <code>yes</code> or <code>no</code></li></ul><p>Then edit: <code>resolve.conf</code></p><blockquote><p><code>resolve.conf</code> is used to set the definitions of each item when the DNS client requests name resolution.</p></blockquote><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>vim /etc/resolv.conf
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>nameserver 8.8.8.8 <span style=color:#75715e># Modify with your preferred DNS address</span>
</span></span><span style=display:flex><span>nameserver 1.1.1.1 <span style=color:#75715e># Modify with your preferred DNS address</span>
</span></span></code></pre></td></tr></table></div></div><p>Use one of the following commands to restart the network and apply all settings:</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>/etc/init.d/network restart
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>systemctl restart network
</span></span></code></pre></td></tr></table></div></div><p><span id=2></span></p><table><tr align=left><td bgcolor=#25add7><font size=3 color=white><b>Setting a static IP address in Debian / Ubuntu (versions prior to 17.10):</b></font></td></tr></table><p>To set a static IP address in <strong>Debian</strong>/<strong>Ubuntu</strong> (versions prior to 17.10), open the following file:</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>vim /etc/network/interfaces
</span></span></code></pre></td></tr></table></div></div><p>The default is <code>dhcp</code>:</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span> no-auto-down eth0 <span style=color:#75715e># or possibly auto eth0</span>
</span></span><span style=display:flex><span> iface eth0 inet dhcp
</span></span></code></pre></td></tr></table></div></div><p>Edit using nano or vim, and make changes based on your own network:</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">7
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>no-auto-down eth0
</span></span><span style=display:flex><span>iface eth0 inet static
</span></span><span style=display:flex><span>  address 192.168.0.100
</span></span><span style=display:flex><span>  netmask 255.255.255.0
</span></span><span style=display:flex><span>  gateway 192.168.0.1
</span></span><span style=display:flex><span>  dns-nameservers 1.1.1.1
</span></span><span style=display:flex><span>  dns-nameservers 8.8.8.8
</span></span></code></pre></td></tr></table></div></div><p>The following settings need to be edited:</p><ul><li>Change <code>iface eth0 inet dhcp</code> (default) to <code>iface eth0 inet static</code> (static)</li><li><code>dns-nameservers</code> can have multiple values, such as using public DNS services like <code>8.8.8.8</code>, <code>1.1.1.1</code></li><li><code>gateway</code> is the IP address of the router or firewall</li><li><code>netmask</code> is usually 255.255.255.0 (/24), adjust according to your own network parameters</li><li><code>address</code> is the IP address of the local machine</li></ul><p>After saving the <code>interfaces</code> settings, edit <code>/etc/resolv.conf</code>:</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>vim /etc/resolv.conf
</span></span><span style=display:flex><span>nameserver 8.8.8.8 <span style=color:#75715e># Modify with your preferred DNS address</span>
</span></span><span style=display:flex><span>nameserver 1.1.1.1 <span style=color:#75715e># Modify with your preferred DNS address</span>
</span></span></code></pre></td></tr></table></div></div><p>Use one of the following commands to restart the network and apply all settings:</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>/etc/init.d/network restart
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>systemctl restart network
</span></span></code></pre></td></tr></table></div></div><p><span id=3></span></p><table><tr align=left><td bgcolor=#25add7><font size=3 color=white><b>Setting a static IP address in Ubuntu (newer versions):</b></font></td></tr></table><blockquote><p>Starting from Ubuntu 17.10, <a href=https://netplan.io/>Netplan</a> is the default network management tool.</p></blockquote><p>Network configuration files are stored in <code>*.yaml</code> files in the directory <code>/etc/netplan/</code>.</p><p>In my case, it is <code>/etc/netplan/00-installer-config.yaml</code>, and the default content is:</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>network:
</span></span><span style=display:flex><span>  ethernets:
</span></span><span style=display:flex><span>    eth0:
</span></span><span style=display:flex><span>      dhcp4: true
</span></span><span style=display:flex><span>  version: <span style=color:#ae81ff>2</span>
</span></span></code></pre></td></tr></table></div></div><p>Edit the <code>00-installer-config.yaml</code> configuration file using nano or vim:</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>network:
</span></span><span style=display:flex><span>  version: <span style=color:#ae81ff>2</span>
</span></span><span style=display:flex><span>  renderer: networkd
</span></span><span style=display:flex><span>  ethernets:
</span></span><span style=display:flex><span>    eth0:
</span></span><span style=display:flex><span>     dhcp4: no
</span></span><span style=display:flex><span>     addresses: <span style=color:#f92672>[</span>192.168.1.2/24<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>     routes:
</span></span><span style=display:flex><span>      - to: default
</span></span><span style=display:flex><span>        via: 192.168.1.1
</span></span><span style=display:flex><span>     nameservers:
</span></span><span style=display:flex><span>       addresses: <span style=color:#f92672>[</span>8.8.8.8,1.1.1.1<span style=color:#f92672>]</span>
</span></span></code></pre></td></tr></table></div></div><p>You need to edit the following settings:</p><ul><li><code>renderer: networkd</code> specifies that this interface is managed by the <code>systemd-networkd</code> service</li><li><code>dhcp4: no</code> changes to manual static IP address setup</li><li><code>addresses</code> the local IP address and network segment</li><li><code>nameservers</code> DNS server<ul><li><code>addresses</code> [8.8.8.8,1.1.1.1] can be multiple IP addresses</li></ul></li></ul><p>Save the <code>00-installer-config.yaml</code> settings.</p><p>Apply the network settings using the following command:</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>netplan apply
</span></span></code></pre></td></tr></table></div></div><p><span id=vlan></span></p><p><span id=4></span></p><hr><table><tr align=left><td bgcolor=#25add7><font size=3 color=white><b>Setting up VLAN in Ubuntu:</b></font></td></tr></table><blockquote><p>In this example, N1 is flashed with Armbian, and the network port is connected to the trunk port of the switch.</p></blockquote><h3 id=dynamically-obtain-an-ip-address>Dynamically obtain an IP address<a hidden class=anchor aria-hidden=true href=#dynamically-obtain-an-ip-address>#</a></h3><p>The network configuration files are stored in <code>*.yaml</code> files in the <code>/etc/netplan/</code> directory.</p><p>The default content of <code>/etc/netplan/armbian-default.yaml</code> is:</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>network:
</span></span><span style=display:flex><span>  version: <span style=color:#ae81ff>2</span>
</span></span><span style=display:flex><span>  renderer: NetworkManager
</span></span></code></pre></td></tr></table></div></div><p>Edit the <code>/etc/netplan/armbian-default.yaml</code> configuration file using nano or vim:</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>network</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>version</span>: <span style=color:#ae81ff>2</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>renderer</span>: <span style=color:#ae81ff>NetworkManager</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>ethernets</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>eth0</span>:
</span></span><span style=display:flex><span>          <span style=color:#f92672>dhcp4</span>: <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>vlans</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>vlan.3</span>:
</span></span><span style=display:flex><span>          <span style=color:#f92672>id</span>: <span style=color:#ae81ff>3</span>
</span></span><span style=display:flex><span>          <span style=color:#f92672>link</span>: <span style=color:#ae81ff>eth0</span>
</span></span><span style=display:flex><span>          <span style=color:#f92672>dhcp4</span>: <span style=color:#66d9ef>true</span>
</span></span></code></pre></td></tr></table></div></div><p>The configuration file is written in YAML format, and various settings are included:</p><ul><li><p>The &ldquo;version: 2&rdquo; in the first line specifies the YAML version used in this file.</p></li><li><p>The &ldquo;renderer&rdquo; field specifies the network management tool to be used, which in this case is &ldquo;NetworkManager&rdquo;, a popular tool for managing networks on Linux systems.</p></li><li><p>In the &ldquo;ethernets&rdquo; section, the &ldquo;eth0&rdquo; physical interface is configured, and the interface is set to obtain an IPv4 address via DHCP.</p></li><li><p>In the &ldquo;vlans&rdquo; section, the VLAN (Virtual Local Area Network) interface on the &ldquo;eth0&rdquo; network interface is configured. The VLAN ID is 3 and is connected to the physical interface &ldquo;eth0&rdquo; via the &ldquo;link&rdquo; field. The VLAN interface is also configured to obtain an IPv4 address via DHCP.</p><blockquote><p>This configuration file sets up a network connection where both the physical interface &ldquo;eth0&rdquo; and the VLAN interface obtain dynamic IP addresses via DHCP.</p></blockquote></li></ul><hr><h3 id=set-static-ip-address>Set static IP address<a hidden class=anchor aria-hidden=true href=#set-static-ip-address>#</a></h3><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span>  <span style=color:#f92672>version</span>: <span style=color:#ae81ff>2</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>renderer</span>: <span style=color:#ae81ff>NetworkManager</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>ethernets</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>eth0</span>:
</span></span><span style=display:flex><span>        <span style=color:#f92672>dhcp4</span>: <span style=color:#66d9ef>false</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>vlans</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>vlan.3</span>:
</span></span><span style=display:flex><span>          <span style=color:#f92672>id</span>: <span style=color:#ae81ff>3</span>
</span></span><span style=display:flex><span>          <span style=color:#f92672>link</span>: <span style=color:#ae81ff>eth0</span>
</span></span><span style=display:flex><span>          <span style=color:#f92672>dhcp4</span>: <span style=color:#66d9ef>no</span>
</span></span><span style=display:flex><span>          <span style=color:#f92672>addresses</span>: [<span style=color:#ae81ff>10.3.3.3</span><span style=color:#ae81ff>/24]</span>
</span></span><span style=display:flex><span>          <span style=color:#f92672>routes</span>:
</span></span><span style=display:flex><span>           - <span style=color:#f92672>to</span>: <span style=color:#ae81ff>default</span>
</span></span><span style=display:flex><span>             <span style=color:#f92672>via</span>: <span style=color:#ae81ff>10.3.3.1</span>
</span></span><span style=display:flex><span>          <span style=color:#f92672>nameservers</span>:
</span></span><span style=display:flex><span>            <span style=color:#f92672>addresses</span>: [<span style=color:#ae81ff>8.8.8.8</span>,<span style=color:#ae81ff>1.1.1.1</span>]
</span></span></code></pre></td></tr></table></div></div><blockquote><p>The VLAN configuration sets up a new interface vlan.3 with ID 3 associated with eth0. Its dhcp4 is set to no, with the static IP address 10.3.3.3 and subnet mask 24. The default route is specified through IP address 10.3.3.1, and 8.8.8.8 and 1.1.1.1 are set as DNS servers.</p></blockquote><p><span id=5></span></p><table><tr align=left><td bgcolor=#25add7><font size=3 color=white><b>Setting up Bridge in Debian:</b></font></td></tr></table><p><span id=5.1></span></p><p><mark><strong>Without VLAN</strong></mark></p><p>To find out the default network interface name of the machine, use the following command:</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>ip -c route | head -n <span style=color:#ae81ff>1</span> | cut -d <span style=color:#e6db74>&#39; &#39;</span> -f <span style=color:#ae81ff>5</span>
</span></span></code></pre></td></tr></table></div></div><blockquote><p>eth0</p></blockquote><p>Edit the network interface via text editor</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo vim  /etc/network/interfaces
</span></span></code></pre></td></tr></table></div></div><p><strong><u>i.</u></strong> As <strong>DHCP</strong>:</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#ae81ff>source /etc/network/interfaces.d/*</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># The loopback network interface</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>auto lo</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>iface lo inet loopback</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Wired adapter #1</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>allow-hotplug eth0</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>no</span>-<span style=color:#ae81ff>auto-down eth0</span>
</span></span><span style=display:flex><span><span style=color:#75715e># Bridge as DHCP</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>auto br0</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>iface br0 inet dhcp</span>
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>bridge_ports eth0</span>
</span></span></code></pre></td></tr></table></div></div><p>Then restart the <em>networking</em> service:</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo systemctl restart networking.service
</span></span></code></pre></td></tr></table></div></div><p><strong><u>i.</u></strong> As <strong>Static</strong>:</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#ae81ff>source /etc/network/interfaces.d/*</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># The loopback network interface</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>auto lo</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>iface lo inet loopback</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Wired adapter #1</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>allow-hotplug eth0</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>no</span>-<span style=color:#ae81ff>auto-down eth0</span>
</span></span><span style=display:flex><span><span style=color:#75715e># Bridge setup to static IP</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>auto br0</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>iface br0 inet static</span>
</span></span><span style=display:flex><span>	<span style=color:#ae81ff>address 10.1.1.10</span>
</span></span><span style=display:flex><span>	<span style=color:#ae81ff>broadcast 10.1.1.255</span>
</span></span><span style=display:flex><span>	<span style=color:#ae81ff>netmask 255.255.255.0</span>
</span></span><span style=display:flex><span>	<span style=color:#ae81ff>gateway 10.1.1.1</span>
</span></span><span style=display:flex><span>	<span style=color:#ae81ff>bridge_ports eth0</span>
</span></span><span style=display:flex><span>	<span style=color:#ae81ff>bridge_stp off      </span> <span style=color:#75715e># disable Spanning Tree Protocol</span>
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>bridge_waitport 0   </span> <span style=color:#75715e># no delay before a port becomes available</span>
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>bridge_fd 0         </span> <span style=color:#75715e># no forwarding delay</span>
</span></span></code></pre></td></tr></table></div></div><p>Then restart the <em>networking</em> service:</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo systemctl restart networking.service
</span></span></code></pre></td></tr></table></div></div><p><span id=5.2></span></p><p><mark><strong>With VLAN</strong></mark> (Advanced Example)</p><p>Make sure the <em>vlan</em> package is installed on the system:</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo apt install vlan -y
</span></span></code></pre></td></tr></table></div></div><p>If the host is a hypervisor consider adding below <code>sysctl</code> configurations:</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>echo <span style=color:#e6db74>&#34;net.ipv4.ip_forward=1&#34;</span> | sudo tee -a /etc/sysctl.conf
</span></span><span style=display:flex><span>echo <span style=color:#e6db74>&#34;net.ipv4.conf.all.arp_filter=0&#34;</span> | sudo tee -a /etc/sysctl.conf
</span></span><span style=display:flex><span>echo <span style=color:#e6db74>&#34;net.ipv4.conf.all.rp_filter=2&#34;</span> | sudo tee -a /etc/sysctl.conf
</span></span></code></pre></td></tr></table></div></div><p>Load configurations:</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ sudo sysctl -p
</span></span></code></pre></td></tr></table></div></div><blockquote><p>net.ipv4.ip_forward = 1
net.ipv4.conf.all.arp_filter = 0
net.ipv4.conf.all.rp_filter = 2</p></blockquote><p>Then modify interfaces configurations:</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo vim  /etc/network/interfaces
</span></span></code></pre></td></tr></table></div></div><p>The interface content is as follow:</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">27
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#ae81ff>source /etc/network/interfaces.d/*</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># The loopback network interface</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>auto lo</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>iface lo inet loopback</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Wired adapter #1</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>allow-hotplug eth0</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>iface eth0 inet manual</span>
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>pre-up ifconfig $IFACE up</span>
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>pre-down ifconfig $IFACE down</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># VLAN 3</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>auto eth0.3</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>iface eth0.3 inet manual</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Bridge br0</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>auto br0</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>iface br0 inet static</span>
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>bridge_ports eth0.3</span>
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>bridge_stp off</span>
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>bridge_waitport 0</span>
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>bridge_fd 0</span>
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>address 10.3.3.3</span>
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>netmask 255.255.255.0</span>
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>gateway 10.3.3.1</span>
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>dns-nameservers 1.1.1.1 8.8.4.4</span>
</span></span></code></pre></td></tr></table></div></div><p>Then restart the <em>networking</em> service:</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo systemctl restart networking.service
</span></span></code></pre></td></tr></table></div></div><hr><table><tr align=left><td bgcolor=#33b679><font size=5 color=white><b>Conclusion:</b></font></td></tr></table><blockquote><p>Each Linux distribution may have different methods for setting a static IP address, but the process is generally similar.</p></blockquote><hr><table><tr align=left><td bgcolor=#33b679><font size=5 color=white><b>Reference:</b></font></td></tr></table><ul><li><p><a href=https://www.tecmint.com/set-add-static-ip-address-in-linux/>How to Set Static IP Address and Configure Network in Linux (tecmint.com)</a></p></li><li><p><a href=https://www.cnblogs.com/nuoforever/p/14177682.html>如何在Ubuntu Server 18.04 LTS中配置靜態IP地址 - soso101 - 博客園 (cnblogs.com)</a></p></li><li><p><a href="https://techviewleo.com/create-linux-bridge-on-vlan-interface-in-debian-ubuntu/?expand_article=1">Create Linux Bridge on VLAN Interface in Debian 11/10</a></p></li></ul></div><footer class=post-footer><ul class=post-tags><li><a href=https://www.kingtam.tk/tags/static/>static</a></li><li><a href=https://www.kingtam.tk/tags/ip/>IP</a></li><li><a href=https://www.kingtam.tk/tags/vlan/>vlan</a></li><li><a href=https://www.kingtam.tk/tags/bridge/>bridge</a></li><li><a href=https://www.kingtam.tk/tags/interface/>interface</a></li></ul><nav class=paginav><a class=prev href=https://www.kingtam.tk/posts/esxi-dns-update/><span class=title>« Prev</span><br><span>Renew DNS Servers in VMWare ESXi via ESXCLI Commands</span></a>
<a class=next href=https://www.kingtam.tk/posts/pve-host-vlan/><span class=title>Next »</span><br><span>Configuring VLANs on a Host for PVE (Proxmox VE)</span></a></nav><div class=share-buttons><a target=_blank rel="noopener noreferrer" aria-label="share Setting a static IP address in Linux on twitter" href="https://twitter.com/intent/tweet/?text=Setting%20a%20static%20IP%20address%20in%20Linux&amp;url=https%3a%2f%2fwww.kingtam.tk%2fposts%2flinux-static-ip%2f&amp;hashtags=static%2cIP%2cvlan%2cbridge%2cinterface"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM195.519 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Setting a static IP address in Linux on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fwww.kingtam.tk%2fposts%2flinux-static-ip%2f&amp;title=Setting%20a%20static%20IP%20address%20in%20Linux&amp;summary=Setting%20a%20static%20IP%20address%20in%20Linux&amp;source=https%3a%2f%2fwww.kingtam.tk%2fposts%2flinux-static-ip%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Setting a static IP address in Linux on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fwww.kingtam.tk%2fposts%2flinux-static-ip%2f&title=Setting%20a%20static%20IP%20address%20in%20Linux"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Setting a static IP address in Linux on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fwww.kingtam.tk%2fposts%2flinux-static-ip%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Setting a static IP address in Linux on whatsapp" href="https://api.whatsapp.com/send?text=Setting%20a%20static%20IP%20address%20in%20Linux%20-%20https%3a%2f%2fwww.kingtam.tk%2fposts%2flinux-static-ip%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Setting a static IP address in Linux on telegram" href="https://telegram.me/share/url?text=Setting%20a%20static%20IP%20address%20in%20Linux&amp;url=https%3a%2f%2fwww.kingtam.tk%2fposts%2flinux-static-ip%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentcolor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></div></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://www.kingtam.tk/>King's Blog</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>